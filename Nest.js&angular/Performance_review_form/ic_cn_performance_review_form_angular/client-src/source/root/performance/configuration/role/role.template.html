<div style="padding:24px">
  <nz-table #roleTable [nzData]="roles" [nzLoading]="rolesLoading" [nzPageSize]="10" [nzHideOnSinglePage]="true">
    <thead>
      <tr>
        <th>Template Name</th>
        <th>Comment</th>
        <th>
          Action
          <button nz-button nzType="primary" (click)="roleModalShow()">
            Add
          </button>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let role of roleTable.data">
        <td>{{ role.name }}</td>
        <td>{{ role.comment }}</td>
        <td>
          <button nz-button nzType="primary" (click)="roleModalShow(role)">
            Edit
          </button>
          <nz-divider nzType="vertical"></nz-divider>
          <button nz-button nzType="danger" (click)="deleteRole(role)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>

  <nz-modal [(nzVisible)]="roleVisible" nzTitle="Role Management" nzOkText="Save" nzCancelText="Cancel" (nzOnOk)="saveForm()"
    (nzOnCancel)="roleModalHide()">
    <form nz-form [formGroup]="roleForm" (submit)="saveForm()">
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>Name</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input formControlName="name" type="text" />
          <nz-form-explain *ngIf="roleForm.get('name').dirty && roleForm.get('name').errors">
            Please input role name!
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24">Comment</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <textarea rows="4" nz-input formControlName="comment" type="text"></textarea>
          <nz-form-explain *ngIf="
              roleForm.get('comment').dirty && roleForm.get('comment').errors
            ">
            Please input role comment!
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
    </form>
  </nz-modal>
  <nz-back-top></nz-back-top>
</div>
